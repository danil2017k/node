{"ast":null,"code":"import axios from 'axios';\nimport { errorHandler } from '../../utils';\nexport const loadSpecializations = ({\n  commit,\n  state\n}) => {\n  if (state.specializations.length > 0) {\n    return;\n  }\n\n  return axios.get('/api/specializations').then(({\n    data\n  }) => {\n    commit('LOAD_SPECIALIZATIONS', data.specializations);\n  }).catch(errorHandler);\n};\nexport const loadStains = ({\n  commit,\n  state\n}, unauthorized = false) => {\n  if (state.stains.length > 0) {\n    return;\n  }\n\n  let endpoint = '/api/stains';\n  if (unauthorized) endpoint += '/all';\n  return axios.get(endpoint).then(({\n    data\n  }) => {\n    commit('LOAD_STAINS', data);\n  }).catch(errorHandler);\n};\nexport const loadReactions = ({\n  commit,\n  state\n}) => {\n  if (state.reactions.length > 0) {\n    return;\n  }\n\n  return axios.get('/api/cases/reactions').then(({\n    data\n  }) => {\n    commit('LOAD_REACTIONS', data);\n  }).catch(errorHandler);\n};\nexport const loadAvailStains = ({\n  commit,\n  state\n}) => {\n  if (state.availStains.length > 0) {\n    return;\n  }\n\n  return axios.get('/api/cases/stains').then(({\n    data\n  }) => {\n    commit('LOAD_AVAIL_STAINS', data.stains);\n  }).catch(errorHandler);\n};\nexport const loadCaseResources = ({\n  dispatch\n}, unauthorized = false) => {\n  dispatch('loadStains', unauthorized);\n  dispatch('loadReactions');\n  dispatch('loadAvailStains');\n};","map":{"version":3,"names":["axios","errorHandler","loadSpecializations","commit","state","specializations","length","get","then","data","catch","loadStains","unauthorized","stains","endpoint","loadReactions","reactions","loadAvailStains","availStains","loadCaseResources","dispatch"],"sources":["C:/Users/Danil/Desktop/122/src/store/action/resources.js"],"sourcesContent":["import axios from 'axios'\r\nimport { errorHandler } from '../../utils'\r\n\r\nexport const loadSpecializations = ({ commit, state }) => {\r\n  if (state.specializations.length > 0) {\r\n    return\r\n  }\r\n\r\n  return axios.get('/api/specializations')\r\n  .then(({ data }) => {\r\n    commit('LOAD_SPECIALIZATIONS', data.specializations)\r\n  })\r\n  .catch(errorHandler)\r\n}\r\n\r\nexport const loadStains = ({ commit, state }, unauthorized = false) => {\r\n  if (state.stains.length > 0) {\r\n    return\r\n  }\r\n\r\n  let endpoint = '/api/stains'\r\n  if (unauthorized) endpoint += '/all'\r\n  return axios.get(endpoint)\r\n  .then(({ data }) => {\r\n    commit('LOAD_STAINS', data)\r\n  })\r\n  .catch(errorHandler)\r\n}\r\n\r\nexport const loadReactions = ({ commit, state }) => {\r\n  if (state.reactions.length > 0) {\r\n    return\r\n  }\r\n\r\n  return axios.get('/api/cases/reactions')\r\n  .then(({ data }) => {\r\n    commit('LOAD_REACTIONS', data)\r\n  })\r\n  .catch(errorHandler)\r\n}\r\n\r\nexport const loadAvailStains = ({ commit, state }) => {\r\n  if (state.availStains.length > 0) {\r\n    return\r\n  }\r\n\r\n  return axios.get('/api/cases/stains')\r\n  .then(({ data }) => {\r\n    commit('LOAD_AVAIL_STAINS', data.stains)\r\n  })\r\n  .catch(errorHandler)\r\n}\r\n\r\nexport const loadCaseResources = ({ dispatch }, unauthorized = false) => {\r\n  dispatch('loadStains', unauthorized)\r\n  dispatch('loadReactions')\r\n  dispatch('loadAvailStains')\r\n}\r\n"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,YAAT,QAA6B,aAA7B;AAEA,OAAO,MAAMC,mBAAmB,GAAG,CAAC;EAAEC,MAAF;EAAUC;AAAV,CAAD,KAAuB;EACxD,IAAIA,KAAK,CAACC,eAAN,CAAsBC,MAAtB,GAA+B,CAAnC,EAAsC;IACpC;EACD;;EAED,OAAON,KAAK,CAACO,GAAN,CAAU,sBAAV,EACNC,IADM,CACD,CAAC;IAAEC;EAAF,CAAD,KAAc;IAClBN,MAAM,CAAC,sBAAD,EAAyBM,IAAI,CAACJ,eAA9B,CAAN;EACD,CAHM,EAINK,KAJM,CAIAT,YAJA,CAAP;AAKD,CAVM;AAYP,OAAO,MAAMU,UAAU,GAAG,CAAC;EAAER,MAAF;EAAUC;AAAV,CAAD,EAAoBQ,YAAY,GAAG,KAAnC,KAA6C;EACrE,IAAIR,KAAK,CAACS,MAAN,CAAaP,MAAb,GAAsB,CAA1B,EAA6B;IAC3B;EACD;;EAED,IAAIQ,QAAQ,GAAG,aAAf;EACA,IAAIF,YAAJ,EAAkBE,QAAQ,IAAI,MAAZ;EAClB,OAAOd,KAAK,CAACO,GAAN,CAAUO,QAAV,EACNN,IADM,CACD,CAAC;IAAEC;EAAF,CAAD,KAAc;IAClBN,MAAM,CAAC,aAAD,EAAgBM,IAAhB,CAAN;EACD,CAHM,EAINC,KAJM,CAIAT,YAJA,CAAP;AAKD,CAZM;AAcP,OAAO,MAAMc,aAAa,GAAG,CAAC;EAAEZ,MAAF;EAAUC;AAAV,CAAD,KAAuB;EAClD,IAAIA,KAAK,CAACY,SAAN,CAAgBV,MAAhB,GAAyB,CAA7B,EAAgC;IAC9B;EACD;;EAED,OAAON,KAAK,CAACO,GAAN,CAAU,sBAAV,EACNC,IADM,CACD,CAAC;IAAEC;EAAF,CAAD,KAAc;IAClBN,MAAM,CAAC,gBAAD,EAAmBM,IAAnB,CAAN;EACD,CAHM,EAINC,KAJM,CAIAT,YAJA,CAAP;AAKD,CAVM;AAYP,OAAO,MAAMgB,eAAe,GAAG,CAAC;EAAEd,MAAF;EAAUC;AAAV,CAAD,KAAuB;EACpD,IAAIA,KAAK,CAACc,WAAN,CAAkBZ,MAAlB,GAA2B,CAA/B,EAAkC;IAChC;EACD;;EAED,OAAON,KAAK,CAACO,GAAN,CAAU,mBAAV,EACNC,IADM,CACD,CAAC;IAAEC;EAAF,CAAD,KAAc;IAClBN,MAAM,CAAC,mBAAD,EAAsBM,IAAI,CAACI,MAA3B,CAAN;EACD,CAHM,EAINH,KAJM,CAIAT,YAJA,CAAP;AAKD,CAVM;AAYP,OAAO,MAAMkB,iBAAiB,GAAG,CAAC;EAAEC;AAAF,CAAD,EAAeR,YAAY,GAAG,KAA9B,KAAwC;EACvEQ,QAAQ,CAAC,YAAD,EAAeR,YAAf,CAAR;EACAQ,QAAQ,CAAC,eAAD,CAAR;EACAA,QAAQ,CAAC,iBAAD,CAAR;AACD,CAJM"},"metadata":{},"sourceType":"module"}