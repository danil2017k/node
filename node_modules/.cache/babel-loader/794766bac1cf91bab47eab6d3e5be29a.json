{"ast":null,"code":"require(\"core-js/modules/es.error.cause.js\");\n\n/*! @openseadragon-imaging/openseadragon-imaginghelper 2.2.2 1a579f4 (clean)  @license MIT */\n!function (e, i) {\n  \"object\" == typeof exports && \"object\" == typeof module ? module.exports = i(require(\"openseadragon\")) : \"function\" == typeof define && define.amd ? define([\"openseadragon\"], i) : \"object\" == typeof exports ? exports[\"openseadragon-imaginghelper\"] = i(require(\"openseadragon\")) : e[\"openseadragon-imaginghelper\"] = i(e.openseadragon);\n}(window, function (e) {\n  return function (e) {\n    function i(o) {\n      if (t[o]) return t[o].exports;\n      var n = t[o] = {\n        i: o,\n        l: !1,\n        exports: {}\n      };\n      return e[o].call(n.exports, n, n.exports, i), n.l = !0, n.exports;\n    }\n\n    var t = {};\n    return i.m = e, i.c = t, i.d = function (e, t, o) {\n      i.o(e, t) || Object.defineProperty(e, t, {\n        enumerable: !0,\n        get: o\n      });\n    }, i.r = function (e) {\n      \"undefined\" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {\n        value: \"Module\"\n      }), Object.defineProperty(e, \"__esModule\", {\n        value: !0\n      });\n    }, i.t = function (e, t) {\n      if (1 & t && (e = i(e)), 8 & t) return e;\n      if (4 & t && \"object\" == typeof e && e && e.__esModule) return e;\n      var o = Object.create(null);\n      if (i.r(o), Object.defineProperty(o, \"default\", {\n        enumerable: !0,\n        value: e\n      }), 2 & t && \"string\" != typeof e) for (var n in e) i.d(o, n, function (i) {\n        return e[i];\n      }.bind(null, n));\n      return o;\n    }, i.n = function (e) {\n      var t = e && e.__esModule ? function () {\n        return e.default;\n      } : function () {\n        return e;\n      };\n      return i.d(t, \"a\", t), t;\n    }, i.o = function (e, i) {\n      return Object.prototype.hasOwnProperty.call(e, i);\n    }, i.p = \"\", i(i.s = 1);\n  }([function (i) {\n    i.exports = e;\n  }, function (e, i, t) {\n    \"use strict\";\n\n    t.r(i);\n    var o = t(0),\n        n = t.n(o);\n\n    i.default = function (e, i) {\n      if (!e.version || 2 > e.version.major) throw new Error(\"OpenSeadragonImagingHelper requires OpenSeadragon version 2.0.0+\");\n      return e.Viewer.prototype.activateImagingHelper = function (e) {\n        return this.imagingHelper || ((e = e || {}).viewer = this, this.imagingHelper = new i.ImagingHelper(e)), this.imagingHelper;\n      }, i.ImagingHelper = function (i) {\n        if (e.EventSource.call(this), !(i = i || {}).viewer) throw new Error(\"A viewer must be specified.\");\n        if (i.viewer.imagingHelper) throw new Error(\"Viewer already has an ImagingHelper.\");\n        this._viewer = i.viewer, this._worldIndex = \"number\" == typeof i.worldIndex ? i.worldIndex : 0, this._viewer.imagingHelper = this, this.options = i, this.imgWidth = 0, this.imgHeight = 0, this.imgAspectRatio = 0, this._zoomFactor = 1, this._minZoom = .001, this._maxZoom = 10, this._zoomStepPercent = 30, this._haveImage = !1, this._viewerSize = null, this._viewportWidth = 0, this._viewportHeight = 0, this._viewportOrigin = new e.Point(0, 0), this._viewportCenter = new e.Point(0, 0), this._onOpen = e.delegate(this, this.onOpen), this._onClose = e.delegate(this, this.onClose), this._onAnimation = e.delegate(this, this.onAnimation), this._onAnimationFinish = e.delegate(this, this.onAnimationFinish), this._onResize = e.delegate(this, this.onResize), this._onFullPage = e.delegate(this, this.onFullPage), this._onFullScreen = e.delegate(this, this.onFullScreen), this._onWorldAddItem = e.delegate(this, this.onWorldAddItem), this._onWorldRemoveItem = e.delegate(this, this.onWorldRemoveItem), this._onWorldItemIndexChange = e.delegate(this, this.onWorldItemIndexChange), this._onWorldMetricsChange = e.delegate(this, this.onWorldMetricsChange), i.onImageViewChanged && this.addHandler(\"image-view-changed\", i.onImageViewChanged), this._viewer.addHandler(\"open\", this._onOpen), this._viewer.addHandler(\"close\", this._onClose), this._viewer.addHandler(\"animation\", this._onAnimation), this._viewer.addHandler(\"animation-finish\", this._onAnimationFinish), this._viewer.addHandler(\"resize\", this._onResize), this._viewer.addHandler(\"full-page\", this._onFullPage), this._viewer.addHandler(\"full-screen\", this._onFullScreen);\n      }, i.ImagingHelper.prototype = Object.create(e.EventSource.prototype), i.ImagingHelper.version = {\n        versionStr: \"2.2.2\",\n        major: 2,\n        minor: 2,\n        revision: 2\n      }, Object.defineProperty(i.ImagingHelper.prototype, \"constructor\", {\n        enumerable: !1,\n        value: i.ImagingHelper\n      }), i.ImagingHelper.prototype.destroy = function () {\n        this.options.onImageViewChanged && this.removeHandler(\"image-view-changed\", this.options.onImageViewChanged), this._viewer.removeHandler(\"open\", this._onOpen), this._viewer.removeHandler(\"close\", this._onClose), this._viewer.removeHandler(\"animation\", this._onAnimation), this._viewer.removeHandler(\"animation-finish\", this._onAnimationFinish), this._viewer.removeHandler(\"resize\", this._onResize), this._viewer.removeHandler(\"full-page\", this._onFullPage), this._viewer.removeHandler(\"full-screen\", this._onFullScreen), this._viewer.imagingHelper = null, this._viewer.destroy(), this._viewer = null, this.options.viewer = null;\n      }, i.ImagingHelper.prototype._raiseImageViewChanged = function () {\n        this.raiseEvent(\"image-view-changed\", {\n          viewportWidth: this._viewportWidth,\n          viewportHeight: this._viewportHeight,\n          viewportOrigin: this._viewportOrigin,\n          viewportCenter: this._viewportCenter,\n          zoomFactor: this._zoomFactor\n        });\n      }, i.ImagingHelper.prototype._trackZoomPan = function () {\n        var e = this._viewer.viewport.getBounds(!0);\n\n        this._viewportOrigin.x = e.x, this._viewportOrigin.y = e.y * this.imgAspectRatio, this._viewportWidth = e.width, this._viewportHeight = e.height * this.imgAspectRatio, this._viewportCenter.x = this._viewportOrigin.x + this._viewportWidth / 2, this._viewportCenter.y = this._viewportOrigin.y + this._viewportHeight / 2, this._zoomFactor = this.getViewerContainerSize().x / (this._viewportWidth * this.imgWidth), this._raiseImageViewChanged();\n      }, i.ImagingHelper.prototype.getViewerContainerSize = function () {\n        var i = this._viewer.container;\n        return new e.Point(i.clientWidth, i.clientHeight);\n      }, i.ImagingHelper.prototype.notifyResize = function () {\n        var i, t, o;\n        this._haveImage && !(i = this.getViewerContainerSize()).equals(this._viewerSize) && (this._viewerSize = i, t = new e.Point(this._viewportCenter.x, this._viewportCenter.y / this.imgAspectRatio), o = this._zoomFactor, this._viewer.viewport.resize(i, !1), this._viewer.viewport.zoomTo(o * this.imgWidth / i.x, null, !0), this._viewer.viewport.panTo(t, !0), this._raiseImageViewChanged());\n      }, i.ImagingHelper.prototype.getMinZoom = function () {\n        return this._minZoom;\n      }, i.ImagingHelper.prototype.setMinZoom = function (e) {\n        this._minZoom = e, this._viewer.minZoomLevel = e * this.imgWidth / this.getViewerContainerSize().x;\n      }, i.ImagingHelper.prototype.getMaxZoom = function () {\n        return this._maxZoom;\n      }, i.ImagingHelper.prototype.setMaxZoom = function (e) {\n        this._maxZoom = e, this._viewer.maxZoomLevel = e * this.imgWidth / this.getViewerContainerSize().x;\n      }, i.ImagingHelper.prototype.getZoomStepPercent = function () {\n        return this._zoomStepPercent;\n      }, i.ImagingHelper.prototype.setZoomStepPercent = function (e) {\n        this._zoomStepPercent = e;\n      }, i.ImagingHelper.prototype.setView = function (i, t, o, n) {\n        this._haveImage && ((this._viewportWidth !== i || this._viewportHeight !== t) && this._viewer.viewport.zoomTo(1 / i, null, n), (this._viewportCenter.x !== o.x || this._viewportCenter.y !== o.y) && this._viewer.viewport.panTo(new e.Point(o.x, o.y / this.imgAspectRatio), n));\n      }, i.ImagingHelper.prototype.getZoomFactor = function () {\n        return this._zoomFactor;\n      }, i.ImagingHelper.prototype.setZoomFactor = function (i, t) {\n        this._haveImage && i !== this._zoomFactor && 0 < i && this._viewer.viewport.zoomTo(i * this.imgWidth / this.getViewerContainerSize().x, new e.Point(this._viewportCenter.x, this._viewportCenter.y / this.imgAspectRatio), t);\n      }, i.ImagingHelper.prototype.zoomIn = function (e) {\n        var i = this._zoomFactor;\n        (i *= 1 + this._zoomStepPercent / 100) > this._maxZoom && (i = this._maxZoom), this.setZoomFactor(i, e);\n      }, i.ImagingHelper.prototype.zoomOut = function (e) {\n        var i = this._zoomFactor;\n        (i /= 1 + this._zoomStepPercent / 100) < this._minZoom && (i = this._minZoom), this.setZoomFactor(i, e);\n      }, i.ImagingHelper.prototype.zoomAboutLogicalPoint = function (i, t, o) {\n        this._haveImage && i !== this._zoomFactor && 0 < i && this._viewer.viewport.zoomTo(i * this.imgWidth / this.getViewerContainerSize().x, new e.Point(t.x, t.y / this.imgAspectRatio), o);\n      }, i.ImagingHelper.prototype.zoomInAboutLogicalPoint = function (e, i) {\n        var t = this._zoomFactor;\n        (t *= 1 + this._zoomStepPercent / 100) > this._maxZoom && (t = this._maxZoom), this.zoomAboutLogicalPoint(t, e, i);\n      }, i.ImagingHelper.prototype.zoomOutAboutLogicalPoint = function (e, i) {\n        var t = this._zoomFactor;\n        (t /= 1 + this._zoomStepPercent / 100) < this._minZoom && (t = this._minZoom), this.zoomAboutLogicalPoint(t, e, i);\n      }, i.ImagingHelper.prototype.centerAboutLogicalPoint = function (i, t) {\n        this._haveImage && (this._viewportCenter.x !== i.x || this._viewportCenter.y !== i.y) && this._viewer.viewport.panTo(new e.Point(i.x, i.y / this.imgAspectRatio), t);\n      }, i.ImagingHelper.prototype.physicalToLogicalPoint = function (i) {\n        return new e.Point(this.physicalToLogicalX(i.x), this.physicalToLogicalY(i.y));\n      }, i.ImagingHelper.prototype.logicalToPhysicalPoint = function (i) {\n        return new e.Point(this.logicalToPhysicalX(i.x), this.logicalToPhysicalY(i.y));\n      }, i.ImagingHelper.prototype.physicalToLogicalX = function (e) {\n        return this._haveImage ? this._viewportOrigin.x + e / this.getViewerContainerSize().x * this._viewportWidth : 0;\n      }, i.ImagingHelper.prototype.physicalToLogicalY = function (e) {\n        return this._haveImage ? this._viewportOrigin.y + e / this.getViewerContainerSize().y * this._viewportHeight : 0;\n      }, i.ImagingHelper.prototype.logicalToPhysicalX = function (e) {\n        return this._haveImage ? (e - this._viewportOrigin.x) / this._viewportWidth * this.getViewerContainerSize().x : 0;\n      }, i.ImagingHelper.prototype.logicalToPhysicalY = function (e) {\n        return this._haveImage ? (e - this._viewportOrigin.y) / this._viewportHeight * this.getViewerContainerSize().y : 0;\n      }, i.ImagingHelper.prototype.physicalToLogicalDistance = function (e) {\n        return this._haveImage ? e / this.getViewerContainerSize().x * this._viewportWidth : 0;\n      }, i.ImagingHelper.prototype.logicalToPhysicalDistance = function (e) {\n        return this._haveImage ? e / this._viewportWidth * this.getViewerContainerSize().x : 0;\n      }, i.ImagingHelper.prototype.logicalToDataPoint = function (i) {\n        return new e.Point(this.logicalToDataX(i.x), this.logicalToDataY(i.y));\n      }, i.ImagingHelper.prototype.dataToLogicalPoint = function (i) {\n        return new e.Point(this.dataToLogicalX(i.x), this.dataToLogicalY(i.y));\n      }, i.ImagingHelper.prototype.physicalToDataPoint = function (i) {\n        return 1 === this._viewer.world.getItemCount() ? new e.Point(this.physicalToDataX(i.x), this.physicalToDataY(i.y)) : this._viewer.world.getItemAt(this._worldIndex).viewerElementToImageCoordinates(i);\n      }, i.ImagingHelper.prototype.dataToPhysicalPoint = function (i) {\n        return new e.Point(this.dataToPhysicalX(i.x), this.dataToPhysicalY(i.y));\n      }, i.ImagingHelper.prototype.logicalToDataX = function (e) {\n        return this._haveImage ? e * this.imgWidth : 0;\n      }, i.ImagingHelper.prototype.logicalToDataY = function (e) {\n        return this._haveImage ? e * this.imgHeight : 0;\n      }, i.ImagingHelper.prototype.dataToLogicalX = function (e) {\n        return this._haveImage && 0 < this.imgWidth ? e / this.imgWidth : 0;\n      }, i.ImagingHelper.prototype.dataToLogicalY = function (e) {\n        return this._haveImage && 0 < this.imgHeight ? e / this.imgHeight : 0;\n      }, i.ImagingHelper.prototype.physicalToDataX = function (i) {\n        return 1 === this._viewer.world.getItemCount() ? this._haveImage && 0 < this.getViewerContainerSize().x ? (this._viewportOrigin.x + i / this.getViewerContainerSize().x * this._viewportWidth) * this.imgWidth : 0 : this._viewer.world.getItemAt(this._worldIndex).viewerElementToImageCoordinates(new e.Point(i, 0)).x;\n      }, i.ImagingHelper.prototype.physicalToDataY = function (i) {\n        return 1 === this._viewer.world.getItemCount() ? this._haveImage && 0 < this.getViewerContainerSize().y ? (this._viewportOrigin.y + i / this.getViewerContainerSize().y * this._viewportHeight) * this.imgHeight : 0 : this._viewer.world.getItemAt(this._worldIndex).viewerElementToImageCoordinates(new e.Point(0, i)).y;\n      }, i.ImagingHelper.prototype.dataToPhysicalX = function (e) {\n        return this._haveImage && 0 < this.imgWidth ? (e / this.imgWidth - this._viewportOrigin.x) / this._viewportWidth * this.getViewerContainerSize().x : 0;\n      }, i.ImagingHelper.prototype.dataToPhysicalY = function (e) {\n        return this._haveImage && 0 < this.imgHeight ? (e / this.imgHeight - this._viewportOrigin.y) / this._viewportHeight * this.getViewerContainerSize().y : 0;\n      }, i.ImagingHelper.prototype.onOpen = function () {\n        var e = this._viewer.world.getItemAt(this._worldIndex);\n\n        this._haveImage = !0, this.imgWidth = e.source.dimensions.x, this.imgHeight = e.source.dimensions.y, this.imgAspectRatio = this.imgWidth / this.imgHeight, this._trackZoomPan();\n      }, i.ImagingHelper.prototype.onClose = function () {\n        this._haveImage = !1, this.imgWidth = 0, this.imgHeight = 0, this.imgAspectRatio = 0;\n      }, i.ImagingHelper.prototype.onAnimation = function () {\n        this._trackZoomPan();\n      }, i.ImagingHelper.prototype.onAnimationFinish = function () {\n        this._trackZoomPan();\n      }, i.ImagingHelper.prototype.onResize = function () {\n        this._viewer.autoResize && this._trackZoomPan();\n      }, i.ImagingHelper.prototype.onFullPage = function () {\n        this._trackZoomPan();\n      }, i.ImagingHelper.prototype.onFullScreen = function () {\n        this._trackZoomPan();\n      }, i.ImagingHelper;\n    }(n.a || window.OpenSeadragon, window.OpenSeadragonImaging = window.OpenSeadragonImaging || {});\n  }]).default;\n});","map":{"version":3,"mappings":"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","names":["module","define","exports","e","window","i","l","o","call","n","m","Object","enumerable","get","value","bind","d","t","OSD","version","this","imagingHelper","options","$","ImagingHelper","viewer","_viewer","_worldIndex","worldIndex","imgWidth","imgHeight","imgAspectRatio","_zoomFactor","_minZoom","_maxZoom","_zoomStepPercent","_haveImage","_viewerSize","_viewportWidth","_viewportHeight","_viewportOrigin","Point","_viewportCenter","_onOpen","onOpen","_onClose","onClose","_onAnimation","onAnimation","_onAnimationFinish","onAnimationFinish","_onResize","onResize","_onFullPage","onFullPage","_onFullScreen","onFullScreen","_onWorldAddItem","onWorldAddItem","_onWorldRemoveItem","onWorldRemoveItem","_onWorldItemIndexChange","onWorldItemIndexChange","_onWorldMetricsChange","onWorldMetricsChange","onImageViewChanged","addHandler","versionStr","major","minor","revision","removeHandler","destroy","raiseEvent","viewportWidth","viewportHeight","viewportOrigin","viewportCenter","zoomFactor","boundsRect","viewport","getBounds","x","y","width","getViewerContainerSize","_raiseImageViewChanged","element","container","clientWidth","clientHeight","newViewerSize","center","zoom","resize","zoomTo","panTo","c","minZoomLevel","maxZoomLevel","centerpoint","newzoom","setZoomFactor","newzoomfactor","logpoint","zoomAboutLogicalPoint","physicalToLogicalX","point","physicalToLogicalY","logicalToPhysicalX","logicalToPhysicalY","distance","logicalToDataX","logicalToDataY","dataToLogicalX","dataToLogicalY","physicalToDataX","physicalToDataY","world","getItemAt","viewerElementToImageCoordinates","tiledImage","dataToPhysicalX","dataToPhysicalY","_trackZoomPan","autoResize","OpenSeadragon"],"sourceRoot":"","sources":["webpack://openseadragon-imaginghelper/webpack/universalModuleDefinition","webpack://openseadragon-imaginghelper/webpack/bootstrap","webpack://openseadragon-imaginghelper/external \"openseadragon\"","webpack://openseadragon-imaginghelper/src/imaginghelper.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"openseadragon\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"openseadragon\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"openseadragon-imaginghelper\"] = factory(require(\"openseadragon\"));\n\telse\n\t\troot[\"openseadragon-imaginghelper\"] = factory(root[\"openseadragon\"]);\n})(window, function(__WEBPACK_EXTERNAL_MODULE__0__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","import OpenSeadragon from 'openseadragon';\n\n/**\n * @file openseadragon-imaginghelper.js\n * @version 2.2.2\n * @author Mark Salsbery <msalsbery@hotmail.com>\n *\n */\n\n/**\n * @module openseadragon-imaginghelper\n * @version 2.2.2\n * @requires module:openseadragon\n */\n\nexport default (function (OSD, $) {\n\tif (!OSD.version || OSD.version.major < 2) {\n\t\tthrow new Error(\n\t\t\t'OpenSeadragonImagingHelper requires OpenSeadragon version 2.0.0+'\n\t\t);\n\t}\n\n\t/**\n\t * Creates a new ImagingHelper attached to the viewer.\n\t *\n\t * @method activateImagingHelper\n\t * @memberof external:\"OpenSeadragon.Viewer\"#\n\t * @param {Object} options\n\t * @param {external:\"OpenSeadragon.EventHandler\"} [options.onImageViewChanged] - {@link OpenSeadragonImaging.ImagingHelper.event:image-view-changed} handler method.\n\t * @param {Integer} [options.worldIndex] - The index of the image for world.getItemAt\n\t * @returns {OpenSeadragonImaging.ImagingHelper}\n\t *\n\t **/\n\tOSD.Viewer.prototype.activateImagingHelper = function (options) {\n\t\tif (!this.imagingHelper) {\n\t\t\toptions = options || {};\n\t\t\toptions.viewer = this;\n\t\t\tthis.imagingHelper = new $.ImagingHelper(options);\n\t\t}\n\t\treturn this.imagingHelper;\n\t};\n\n\t/**\n\t * Creates a new ImagingHelper attached to the viewer instance passed in the options parameter.\n\t *\n\t * @class ImagingHelper\n\t * @classdesc Provides imaging helper methods and properties for the OpenSeadragon viewer.\n\t * @memberof OpenSeadragonImaging\n\t * @extends external:\"OpenSeadragon.EventSource\"\n\t * @param {Object} options\n\t * @param {external:\"OpenSeadragon.Viewer\"} options.viewer - Required! Reference to OpenSeadragon viewer to attach to.\n\t * @param {external:\"OpenSeadragon.EventHandler\"} [options.onImageViewChanged] - {@link OpenSeadragonImaging.ImagingHelper.event:image-view-changed} handler method.\n\t * @param {Integer} [options.worldIndex] - The index of the image for world.getItemAt\n\t *\n\t **/\n\t$.ImagingHelper = function (options) {\n\t\tOSD.EventSource.call(this);\n\n\t\toptions = options || {};\n\n\t\tif (!options.viewer) {\n\t\t\tthrow new Error('A viewer must be specified.');\n\t\t}\n\t\tif (options.viewer.imagingHelper) {\n\t\t\tthrow new Error('Viewer already has an ImagingHelper.');\n\t\t}\n\n\t\tthis._viewer = options.viewer;\n\n\t\tif (typeof options.worldIndex === 'number') {\n\t\t\tthis._worldIndex = options.worldIndex;\n\t\t} else {\n\t\t\tthis._worldIndex = 0;\n\t\t}\n\n\t\t// Add this object to the Viewer\n\t\tthis._viewer.imagingHelper = this;\n\n\t\t/**\n\t\t * A reference to the options passed at creation.\n\t\t * @member {object} options\n\t\t * @memberof OpenSeadragonImaging.ImagingHelper#\n\t\t * @property {external:\"OpenSeadragon.Viewer\"} viewer - Reference to OpenSeadragon viewer this ImagingHelper is attached to.\n\t\t * @property {external:\"OpenSeadragon.EventHandler\"} [onImageViewChanged] - {@link OpenSeadragonImaging.ImagingHelper.event:image-view-changed} handler method.\n\t\t */\n\t\tthis.options = options;\n\t\t/**\n\t\t * The image's native width in pixels.\n\t\t * @member {number} imgWidth\n\t\t * @memberof OpenSeadragonImaging.ImagingHelper#\n\t\t */\n\t\tthis.imgWidth = 0.0;\n\t\t/**\n\t\t * The image's native height in pixels.\n\t\t * @member {number} imgHeight\n\t\t * @memberof OpenSeadragonImaging.ImagingHelper#\n\t\t */\n\t\tthis.imgHeight = 0.0;\n\t\t/**\n\t\t * The image's aspect ratio (width / height).\n\t\t * @member {number} imgAspectRatio\n\t\t * @memberof OpenSeadragonImaging.ImagingHelper#\n\t\t */\n\t\tthis.imgAspectRatio = 0.0;\n\n\t\t// Private\n\t\tthis._zoomFactor = 1.0;\n\t\tthis._minZoom = 0.001;\n\t\tthis._maxZoom = 10;\n\t\tthis._zoomStepPercent = 30;\n\t\tthis._haveImage = false;\n\t\tthis._viewerSize = null;\n\t\t// Unadjusted viewport settings (aspect ratio not applied)\n\t\t// All coordinates are logical (0 to 1) relative to the image\n\t\tthis._viewportWidth = 0.0;\n\t\tthis._viewportHeight = 0.0;\n\t\tthis._viewportOrigin = new OSD.Point(0, 0);\n\t\tthis._viewportCenter = new OSD.Point(0, 0);\n\n\t\t// Wire up event handlers\n\t\tthis._onOpen = OSD.delegate(this, this.onOpen);\n\t\tthis._onClose = OSD.delegate(this, this.onClose);\n\t\tthis._onAnimation = OSD.delegate(this, this.onAnimation);\n\t\tthis._onAnimationFinish = OSD.delegate(this, this.onAnimationFinish);\n\t\tthis._onResize = OSD.delegate(this, this.onResize);\n\t\tthis._onFullPage = OSD.delegate(this, this.onFullPage);\n\t\tthis._onFullScreen = OSD.delegate(this, this.onFullScreen);\n\t\tthis._onWorldAddItem = OSD.delegate(this, this.onWorldAddItem);\n\t\tthis._onWorldRemoveItem = OSD.delegate(this, this.onWorldRemoveItem);\n\t\tthis._onWorldItemIndexChange = OSD.delegate(\n\t\t\tthis,\n\t\t\tthis.onWorldItemIndexChange\n\t\t);\n\t\tthis._onWorldMetricsChange = OSD.delegate(\n\t\t\tthis,\n\t\t\tthis.onWorldMetricsChange\n\t\t);\n\t\tif (options.onImageViewChanged) {\n\t\t\tthis.addHandler('image-view-changed', options.onImageViewChanged);\n\t\t}\n\t\tthis._viewer.addHandler('open', this._onOpen);\n\t\tthis._viewer.addHandler('close', this._onClose);\n\t\tthis._viewer.addHandler('animation', this._onAnimation);\n\t\tthis._viewer.addHandler('animation-finish', this._onAnimationFinish);\n\t\tthis._viewer.addHandler('resize', this._onResize);\n\t\tthis._viewer.addHandler('full-page', this._onFullPage);\n\t\tthis._viewer.addHandler('full-screen', this._onFullScreen);\n\t\t// this._viewer.world.addHandler('add-item', this._onWorldAddItem);\n\t\t// this._viewer.world.addHandler('remove-item', this._onWorldRemoveItem);\n\t\t// this._viewer.world.addHandler(\n\t\t// \t'item-index-change',\n\t\t// \tthis._onWorldItemIndexChange\n\t\t// );\n\t\t// this._viewer.world.addHandler(\n\t\t// \t'metrics-change',\n\t\t// \tthis._onWorldMetricsChange\n\t\t// );\n\t};\n\n\t// Inherit OpenSeadragon.EventSource\n\t$.ImagingHelper.prototype = Object.create(OSD.EventSource.prototype);\n\n\t/**\n\t * ImagingHelper version.\n\t * @member {Object} OpenSeadragonImaging.ImagingHelper.version\n\t * @static\n\t * @property {String} versionStr - The version number as a string ('major.minor.revision').\n\t * @property {Number} major - The major version number.\n\t * @property {Number} minor - The minor version number.\n\t * @property {Number} revision - The revision number.\n\t */\n\t$.ImagingHelper.version = {\"versionStr\":\"2.2.2\",\"major\":2,\"minor\":2,\"revision\":2};\n\n\tObject.defineProperty($.ImagingHelper.prototype, 'constructor', {\n\t\tenumerable: false,\n\t\tvalue: $.ImagingHelper\n\t});\n\n\t/**\n\t * Remove hooks, event handlers, and OpenSeadragon references. Call before\n\t * OpenSeadragon.Viewer.destroy().\n\t * @method OpenSeadragonImaging.ImagingHelper.prototype#destroy\n\t * @since 2.2.0\n\t */\n\t$.ImagingHelper.prototype.destroy = function () {\n\t\tif (this.options.onImageViewChanged) {\n\t\t\tthis.removeHandler(\n\t\t\t\t'image-view-changed',\n\t\t\t\tthis.options.onImageViewChanged\n\t\t\t);\n\t\t}\n\t\tthis._viewer.removeHandler('open', this._onOpen);\n\t\tthis._viewer.removeHandler('close', this._onClose);\n\t\tthis._viewer.removeHandler('animation', this._onAnimation);\n\t\tthis._viewer.removeHandler('animation-finish', this._onAnimationFinish);\n\t\tthis._viewer.removeHandler('resize', this._onResize);\n\t\tthis._viewer.removeHandler('full-page', this._onFullPage);\n\t\tthis._viewer.removeHandler('full-screen', this._onFullScreen);\n\t\t// this._viewer.world.removeHandler('add-item', this._onWorldAddItem);\n\t\t// this._viewer.world.removeHandler(\n\t\t// \t'remove-item',\n\t\t// \tthis._onWorldRemoveItem\n\t\t// );\n\t\t// this._viewer.world.removeHandler(\n\t\t// \t'item-index-change',\n\t\t// \tthis._onWorldItemIndexChange\n\t\t// );\n\t\t// this._viewer.world.removeHandler(\n\t\t// \t'metrics-change',\n\t\t// \tthis._onWorldMetricsChange\n\t\t// );\n\t\tthis._viewer.imagingHelper = null;\n\t\tthis._viewer.destroy();\n\t\tthis._viewer = null;\n\t\tthis.options.viewer = null;\n\t};\n\n\t/*\n\t *\n\t * Raises the {@link OpenSeadragonImaging.ImagingHelper.image-view-changed} event\n\t *\n\t * @private\n\t * @method OpenSeadragonImaging.ImagingHelper.prototype#_raiseImageViewChanged\n\t *\n\t **/\n\t$.ImagingHelper.prototype._raiseImageViewChanged = function () {\n\t\t/**\n\t\t * Raised whenever the viewer's zoom or pan changes and the ImagingHelper's properties have been updated.\n\t\t * @event image-view-changed\n\t\t * @memberof OpenSeadragonImaging.ImagingHelper\n\t\t * @type {Object}\n\t\t * @property {OpenSeadragonImaging.ImagingHelper} eventSource - A reference to the ImagingHelper which raised the event.\n\t\t * @property {number} viewportWidth - Width of viewport in logical coordinates.\n\t\t * @property {number} viewportHeight - Height of viewport in logical coordinates.\n\t\t * @property {external:\"OpenSeadragon.Point\"} viewportOrigin - Center of viewport in logical coordinates.\n\t\t * @property {external:\"OpenSeadragon.Point\"} viewportCenter - Center of viewport in logical coordinates.\n\t\t * @property {number} zoomFactor - Zoom factor.\n\t\t * @property {Object} [userData=null] - Arbitrary subscriber-defined object.\n\t\t */\n\t\tthis.raiseEvent('image-view-changed', {\n\t\t\tviewportWidth: this._viewportWidth,\n\t\t\tviewportHeight: this._viewportHeight,\n\t\t\tviewportOrigin: this._viewportOrigin,\n\t\t\tviewportCenter: this._viewportCenter,\n\t\t\tzoomFactor: this._zoomFactor\n\t\t});\n\t};\n\n\t/*\n\t *\n\t * Called whenever the OpenSeadragon viewer zoom/pan changes\n\t *\n\t * @private\n\t * @method OpenSeadragonImaging.ImagingHelper.prototype#_trackZoomPan\n\t * @fires OpenSeadragonImaging.ImagingHelper.image-view-changed\n\t *\n\t **/\n\t$.ImagingHelper.prototype._trackZoomPan = function () {\n\t\tvar boundsRect = this._viewer.viewport.getBounds(true);\n\t\tthis._viewportOrigin.x = boundsRect.x;\n\t\tthis._viewportOrigin.y = boundsRect.y * this.imgAspectRatio;\n\t\tthis._viewportWidth = boundsRect.width;\n\t\tthis._viewportHeight = boundsRect.height * this.imgAspectRatio;\n\t\tthis._viewportCenter.x =\n\t\t\tthis._viewportOrigin.x + this._viewportWidth / 2.0;\n\t\tthis._viewportCenter.y =\n\t\t\tthis._viewportOrigin.y + this._viewportHeight / 2.0;\n\t\tthis._zoomFactor =\n\t\t\tthis.getViewerContainerSize().x /\n\t\t\t(this._viewportWidth * this.imgWidth);\n\n\t\tthis._raiseImageViewChanged();\n\t};\n\n\t/**\n\t * Gets the size of the viewer's container element.\n\t *\n\t * @method OpenSeadragonImaging.ImagingHelper.prototype#getViewerContainerSize\n\t * @returns {external:\"OpenSeadragon.Point\"}\n\t *\n\t **/\n\t$.ImagingHelper.prototype.getViewerContainerSize = function () {\n\t\t//return this._viewer.viewport.getContainerSize();\n\t\tvar element = this._viewer.container;\n\t\t//return new OSD.Point(\n\t\t//    (element.clientWidth === 0 ? 1 : element.clientWidth),\n\t\t//    (element.clientHeight === 0 ? 1 : element.clientHeight)\n\t\t//);\n\t\treturn new OSD.Point(element.clientWidth, element.clientHeight);\n\t};\n\n\t/**\n\t * Helper method for users of the OpenSeadragon.Viewer's autoResize = false option.\n\t * Call this whenever the viewer is resized, and the image will stay displayed at\n\t * the same zoom factor and same center point.\n\t *\n\t * @method OpenSeadragonImaging.ImagingHelper.prototype#notifyResize\n\t * @fires OpenSeadragonImaging.ImagingHelper.image-view-changed\n\t *\n\t **/\n\t$.ImagingHelper.prototype.notifyResize = function () {\n\t\tvar newViewerSize, center, zoom;\n\t\tif (this._haveImage) {\n\t\t\tnewViewerSize = this.getViewerContainerSize();\n\t\t\tif (!newViewerSize.equals(this._viewerSize)) {\n\t\t\t\tthis._viewerSize = newViewerSize;\n\t\t\t\tcenter = new OSD.Point(\n\t\t\t\t\tthis._viewportCenter.x,\n\t\t\t\t\tthis._viewportCenter.y / this.imgAspectRatio\n\t\t\t\t);\n\t\t\t\tzoom = this._zoomFactor;\n\t\t\t\tthis._viewer.viewport.resize(newViewerSize, false);\n\t\t\t\tthis._viewer.viewport.zoomTo(\n\t\t\t\t\t(zoom * this.imgWidth) / newViewerSize.x,\n\t\t\t\t\tnull,\n\t\t\t\t\ttrue\n\t\t\t\t);\n\t\t\t\tthis._viewer.viewport.panTo(center, true);\n\t\t\t\tthis._raiseImageViewChanged();\n\t\t\t}\n\t\t}\n\t};\n\n\t/**\n\t * Gets the minimum zoom factor allowed.\n\t *\n\t * @method OpenSeadragonImaging.ImagingHelper.prototype#getMinZoom\n\t * @returns {number}\n\t *\n\t **/\n\t$.ImagingHelper.prototype.getMinZoom = function () {\n\t\treturn this._minZoom;\n\t};\n\n\t/**\n\t * Sets the minimum zoom factor allowed.\n\t *\n\t * @method OpenSeadragonImaging.ImagingHelper.prototype#setMinZoom\n\t * @param {number} value - The desired minimum zoom factor.\n\t *\n\t **/\n\t$.ImagingHelper.prototype.setMinZoom = function (value) {\n\t\tthis._minZoom = value;\n\t\tthis._viewer.minZoomLevel =\n\t\t\t(value * this.imgWidth) / this.getViewerContainerSize().x;\n\t};\n\n\t/**\n\t * Gets the maximum zoom factor allowed.\n\t *\n\t * @method OpenSeadragonImaging.ImagingHelper.prototype#getMaxZoom\n\t * @returns {number}\n\t *\n\t **/\n\t$.ImagingHelper.prototype.getMaxZoom = function () {\n\t\treturn this._maxZoom;\n\t};\n\n\t/**\n\t * Sets the maximum zoom factor allowed.\n\t *\n\t * @method OpenSeadragonImaging.ImagingHelper.prototype#setMaxZoom\n\t * @param {number} value - The desired maximum zoom factor.\n\t *\n\t **/\n\t$.ImagingHelper.prototype.setMaxZoom = function (value) {\n\t\tthis._maxZoom = value;\n\t\tthis._viewer.maxZoomLevel =\n\t\t\t(value * this.imgWidth) / this.getViewerContainerSize().x;\n\t};\n\n\t/**\n\t * Gets the percentage of the current zoom factor to increase/decrease when using the zoomIn/zoomOut methods.\n\t *\n\t * @method OpenSeadragonImaging.ImagingHelper.prototype#getZoomStepPercent\n\t * @returns {number}\n\t *\n\t **/\n\t$.ImagingHelper.prototype.getZoomStepPercent = function () {\n\t\treturn this._zoomStepPercent;\n\t};\n\n\t/**\n\t * Sets the percentage of the current zoom factor to increase/decrease when using the zoomIn/zoomOut methods.\n\t *\n\t * @method OpenSeadragonImaging.ImagingHelper.prototype#setZoomStepPercent\n\t * @param {number} value - The desired percentage.\n\t *\n\t **/\n\t$.ImagingHelper.prototype.setZoomStepPercent = function (value) {\n\t\tthis._zoomStepPercent = value;\n\t};\n\n\t/**\n\t * Zooms and/or pans the viewport based on a viewport width and center point.\n\t *\n\t * @method OpenSeadragonImaging.ImagingHelper.prototype#setView\n\t * @param {number} width - The desired viewport width in logical units.\n\t * @param {number} height - The desired viewport width in logical units (currently not used, native image aspect ratio is preserved).\n\t * @param {external:\"OpenSeadragon.Point\"} centerpoint - The desired viewport center point in logical units.\n\t * @param {boolean} [immediately] - If true, the view is set immediately with no spring animation.\n\t *\n\t **/\n\t$.ImagingHelper.prototype.setView = function (\n\t\twidth,\n\t\theight,\n\t\tcenterpoint,\n\t\timmediately\n\t) {\n\t\tif (this._haveImage) {\n\t\t\tif (\n\t\t\t\tthis._viewportWidth !== width ||\n\t\t\t\tthis._viewportHeight !== height\n\t\t\t) {\n\t\t\t\tthis._viewer.viewport.zoomTo(1.0 / width, null, immediately);\n\t\t\t}\n\t\t\tif (\n\t\t\t\tthis._viewportCenter.x !== centerpoint.x ||\n\t\t\t\tthis._viewportCenter.y !== centerpoint.y\n\t\t\t) {\n\t\t\t\tthis._viewer.viewport.panTo(\n\t\t\t\t\tnew OSD.Point(\n\t\t\t\t\t\tcenterpoint.x,\n\t\t\t\t\t\tcenterpoint.y / this.imgAspectRatio\n\t\t\t\t\t),\n\t\t\t\t\timmediately\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t};\n\n\t/**\n\t * Gets the current zoom factor, the ratio of the displayed size to the image's native size.\n\t *\n\t * @method OpenSeadragonImaging.ImagingHelper.prototype#getZoomFactor\n\t * @returns {number}\n\t *\n\t **/\n\t$.ImagingHelper.prototype.getZoomFactor = function () {\n\t\treturn this._zoomFactor;\n\t};\n\n\t/**\n\t * Sets the zoom factor, the ratio of the displayed size to the image's native size.\n\t *\n\t * @method OpenSeadragonImaging.ImagingHelper.prototype#setZoomFactor\n\t * @param {number} value - The desired zoom factor.\n\t * @param {boolean} [immediately] - If true, the view is set immediately with no spring animation.\n\t *\n\t **/\n\t$.ImagingHelper.prototype.setZoomFactor = function (value, immediately) {\n\t\tif (this._haveImage && value !== this._zoomFactor && value > 0.0) {\n\t\t\tthis._viewer.viewport.zoomTo(\n\t\t\t\t(value * this.imgWidth) / this.getViewerContainerSize().x,\n\t\t\t\tnew OSD.Point(\n\t\t\t\t\tthis._viewportCenter.x,\n\t\t\t\t\tthis._viewportCenter.y / this.imgAspectRatio\n\t\t\t\t),\n\t\t\t\timmediately\n\t\t\t);\n\t\t}\n\t};\n\n\t/**\n\t * Zooms in by a factor of getZoomStepPercent().\n\t *\n\t * @method OpenSeadragonImaging.ImagingHelper.prototype#zoomIn\n\t * @param {boolean} [immediately] - If true, the view is set immediately with no spring animation.\n\t *\n\t **/\n\t$.ImagingHelper.prototype.zoomIn = function (immediately) {\n\t\tvar newzoom = this._zoomFactor;\n\t\tnewzoom *= 1.0 + this._zoomStepPercent / 100.0;\n\t\tif (newzoom > this._maxZoom) {\n\t\t\tnewzoom = this._maxZoom;\n\t\t}\n\t\tthis.setZoomFactor(newzoom, immediately);\n\t};\n\n\t/**\n\t * Zooms out by a factor of getZoomStepPercent().\n\t *\n\t * @method OpenSeadragonImaging.ImagingHelper.prototype#zoomOut\n\t * @param {boolean} [immediately] - If true, the view is set immediately with no spring animation.\n\t *\n\t **/\n\t$.ImagingHelper.prototype.zoomOut = function (immediately) {\n\t\tvar newzoom = this._zoomFactor;\n\t\tnewzoom /= 1.0 + this._zoomStepPercent / 100.0;\n\t\tif (newzoom < this._minZoom) {\n\t\t\tnewzoom = this._minZoom;\n\t\t}\n\t\tthis.setZoomFactor(newzoom, immediately);\n\t};\n\n\t/**\n\t * Sets the zoom factor, the ratio of the displayed size to the image's native size, leaving the logical point in the same viewer position.\n\t *\n\t * @method OpenSeadragonImaging.ImagingHelper.prototype#zoomAboutLogicalPoint\n\t * @param {number} newzoomfactor - The desired zoom factor.\n\t * @param {external:\"OpenSeadragon.Point\"} logpoint - The logical point to remain in current displayed position.\n\t * @param {boolean} [immediately] - If true, the view is set immediately with no spring animation.\n\t *\n\t **/\n\t$.ImagingHelper.prototype.zoomAboutLogicalPoint = function (\n\t\tnewzoomfactor,\n\t\tlogpoint,\n\t\timmediately\n\t) {\n\t\tif (\n\t\t\tthis._haveImage &&\n\t\t\tnewzoomfactor !== this._zoomFactor &&\n\t\t\tnewzoomfactor > 0.0\n\t\t) {\n\t\t\tthis._viewer.viewport.zoomTo(\n\t\t\t\t(newzoomfactor * this.imgWidth) /\n\t\t\t\t\tthis.getViewerContainerSize().x,\n\t\t\t\tnew OSD.Point(logpoint.x, logpoint.y / this.imgAspectRatio),\n\t\t\t\timmediately\n\t\t\t);\n\t\t}\n\t};\n\n\t/**\n\t * Zooms in by a factor of getZoomStepPercent(), leaving the logical point in the same viewer position.\n\t *\n\t * @method OpenSeadragonImaging.ImagingHelper.prototype#zoomInAboutLogicalPoint\n\t * @param {external:\"OpenSeadragon.Point\"} logpoint - The logical point to remain in current displayed position.\n\t * @param {boolean} [immediately] - If true, the view is set immediately with no spring animation.\n\t *\n\t **/\n\t$.ImagingHelper.prototype.zoomInAboutLogicalPoint = function (\n\t\tlogpoint,\n\t\timmediately\n\t) {\n\t\tvar newzoom = this._zoomFactor;\n\t\tnewzoom *= 1.0 + this._zoomStepPercent / 100.0;\n\t\tif (newzoom > this._maxZoom) {\n\t\t\tnewzoom = this._maxZoom;\n\t\t}\n\t\tthis.zoomAboutLogicalPoint(newzoom, logpoint, immediately);\n\t};\n\n\t/**\n\t * Zooms out by a factor of getZoomStepPercent(), leaving the logical point in the same viewer position.\n\t *\n\t * @method OpenSeadragonImaging.ImagingHelper.prototype#zoomOutAboutLogicalPoint\n\t * @param {external:\"OpenSeadragon.Point\"} logpoint - The logical point to remain in current displayed position.\n\t * @param {boolean} [immediately] - If true, the view is set immediately with no spring animation.\n\t *\n\t **/\n\t$.ImagingHelper.prototype.zoomOutAboutLogicalPoint = function (\n\t\tlogpoint,\n\t\timmediately\n\t) {\n\t\tvar newzoom = this._zoomFactor;\n\t\tnewzoom /= 1.0 + this._zoomStepPercent / 100.0;\n\t\tif (newzoom < this._minZoom) {\n\t\t\tnewzoom = this._minZoom;\n\t\t}\n\t\tthis.zoomAboutLogicalPoint(newzoom, logpoint, immediately);\n\t};\n\n\t/**\n\t * Pans the view so the logical point is centered in the viewport.\n\t *\n\t * @method OpenSeadragonImaging.ImagingHelper.prototype#centerAboutLogicalPoint\n\t * @param {external:\"OpenSeadragon.Point\"} logpoint - The desired center point.\n\t * @param {boolean} [immediately] - If true, the view is set immediately with no spring animation.\n\t *\n\t **/\n\t$.ImagingHelper.prototype.centerAboutLogicalPoint = function (\n\t\tlogpoint,\n\t\timmediately\n\t) {\n\t\tif (\n\t\t\tthis._haveImage &&\n\t\t\t(this._viewportCenter.x !== logpoint.x ||\n\t\t\t\tthis._viewportCenter.y !== logpoint.y)\n\t\t) {\n\t\t\tthis._viewer.viewport.panTo(\n\t\t\t\tnew OSD.Point(logpoint.x, logpoint.y / this.imgAspectRatio),\n\t\t\t\timmediately\n\t\t\t);\n\t\t}\n\t};\n\n\t/**\n\t *\n\t *\n\t * @method OpenSeadragonImaging.ImagingHelper.prototype#physicalToLogicalPoint\n\t *\n\t **/\n\t$.ImagingHelper.prototype.physicalToLogicalPoint = function (point) {\n\t\treturn new OSD.Point(\n\t\t\tthis.physicalToLogicalX(point.x),\n\t\t\tthis.physicalToLogicalY(point.y)\n\t\t);\n\t};\n\n\t/**\n\t *\n\t *\n\t * @method OpenSeadragonImaging.ImagingHelper.prototype#logicalToPhysicalPoint\n\t *\n\t **/\n\t$.ImagingHelper.prototype.logicalToPhysicalPoint = function (point) {\n\t\treturn new OSD.Point(\n\t\t\tthis.logicalToPhysicalX(point.x),\n\t\t\tthis.logicalToPhysicalY(point.y)\n\t\t);\n\t};\n\n\t/**\n\t *\n\t *\n\t * @method OpenSeadragonImaging.ImagingHelper.prototype#physicalToLogicalX\n\t *\n\t **/\n\t$.ImagingHelper.prototype.physicalToLogicalX = function (x) {\n\t\treturn this._haveImage\n\t\t\t? this._viewportOrigin.x +\n\t\t\t\t\t(x / this.getViewerContainerSize().x) * this._viewportWidth\n\t\t\t: 0;\n\t};\n\n\t/**\n\t *\n\t *\n\t * @method OpenSeadragonImaging.ImagingHelper.prototype#physicalToLogicalY\n\t *\n\t **/\n\t$.ImagingHelper.prototype.physicalToLogicalY = function (y) {\n\t\treturn this._haveImage\n\t\t\t? this._viewportOrigin.y +\n\t\t\t\t\t(y / this.getViewerContainerSize().y) * this._viewportHeight\n\t\t\t: 0;\n\t};\n\n\t/**\n\t *\n\t *\n\t * @method OpenSeadragonImaging.ImagingHelper.prototype#logicalToPhysicalX\n\t *\n\t **/\n\t$.ImagingHelper.prototype.logicalToPhysicalX = function (x) {\n\t\treturn this._haveImage\n\t\t\t? ((x - this._viewportOrigin.x) / this._viewportWidth) *\n\t\t\t\t\tthis.getViewerContainerSize().x\n\t\t\t: 0;\n\t};\n\n\t/**\n\t *\n\t *\n\t * @method OpenSeadragonImaging.ImagingHelper.prototype#logicalToPhysicalY\n\t *\n\t **/\n\t$.ImagingHelper.prototype.logicalToPhysicalY = function (y) {\n\t\treturn this._haveImage\n\t\t\t? ((y - this._viewportOrigin.y) / this._viewportHeight) *\n\t\t\t\t\tthis.getViewerContainerSize().y\n\t\t\t: 0;\n\t};\n\n\t/**\n\t *\n\t *\n\t * @method OpenSeadragonImaging.ImagingHelper.prototype#physicalToLogicalDistance\n\t *\n\t **/\n\t$.ImagingHelper.prototype.physicalToLogicalDistance = function (distance) {\n\t\treturn this._haveImage\n\t\t\t? (distance / this.getViewerContainerSize().x) * this._viewportWidth\n\t\t\t: 0;\n\t};\n\n\t/**\n\t *\n\t *\n\t * @method OpenSeadragonImaging.ImagingHelper.prototype#logicalToPhysicalDistance\n\t *\n\t **/\n\t$.ImagingHelper.prototype.logicalToPhysicalDistance = function (distance) {\n\t\treturn this._haveImage\n\t\t\t? (distance / this._viewportWidth) * this.getViewerContainerSize().x\n\t\t\t: 0;\n\t};\n\n\t/**\n\t *\n\t *\n\t * @method OpenSeadragonImaging.ImagingHelper.prototype#logicalToDataPoint\n\t *\n\t **/\n\t$.ImagingHelper.prototype.logicalToDataPoint = function (point) {\n\t\treturn new OSD.Point(\n\t\t\tthis.logicalToDataX(point.x),\n\t\t\tthis.logicalToDataY(point.y)\n\t\t);\n\t};\n\n\t/**\n\t *\n\t *\n\t * @method OpenSeadragonImaging.ImagingHelper.prototype#dataToLogicalPoint\n\t *\n\t **/\n\t$.ImagingHelper.prototype.dataToLogicalPoint = function (point) {\n\t\treturn new OSD.Point(\n\t\t\tthis.dataToLogicalX(point.x),\n\t\t\tthis.dataToLogicalY(point.y)\n\t\t);\n\t};\n\n\t/**\n\t *\n\t *\n\t * @method OpenSeadragonImaging.ImagingHelper.prototype#physicalToDataPoint\n\t *\n\t **/\n\t$.ImagingHelper.prototype.physicalToDataPoint = function (point) {\n\t\tif (this._viewer.world.getItemCount() === 1) {\n\t\t\treturn new OSD.Point(\n\t\t\t\tthis.physicalToDataX(point.x),\n\t\t\t\tthis.physicalToDataY(point.y)\n\t\t\t);\n\t\t} else {\n\t\t\tvar tiledImage = this._viewer.world.getItemAt(this._worldIndex);\n\t\t\treturn tiledImage.viewerElementToImageCoordinates(point);\n\t\t}\n\t};\n\n\t/**\n\t *\n\t *\n\t * @method OpenSeadragonImaging.ImagingHelper.prototype#dataToPhysicalPoint\n\t *\n\t **/\n\t$.ImagingHelper.prototype.dataToPhysicalPoint = function (point) {\n\t\treturn new OSD.Point(\n\t\t\tthis.dataToPhysicalX(point.x),\n\t\t\tthis.dataToPhysicalY(point.y)\n\t\t);\n\t};\n\n\t/**\n\t *\n\t *\n\t * @method OpenSeadragonImaging.ImagingHelper.prototype#logicalToDataX\n\t *\n\t **/\n\t$.ImagingHelper.prototype.logicalToDataX = function (x) {\n\t\treturn this._haveImage ? x * this.imgWidth : 0;\n\t};\n\n\t/**\n\t *\n\t *\n\t * @method OpenSeadragonImaging.ImagingHelper.prototype#logicalToDataY\n\t *\n\t **/\n\t$.ImagingHelper.prototype.logicalToDataY = function (y) {\n\t\treturn this._haveImage ? y * this.imgHeight : 0;\n\t};\n\n\t/**\n\t *\n\t *\n\t * @method OpenSeadragonImaging.ImagingHelper.prototype#dataToLogicalX\n\t *\n\t **/\n\t$.ImagingHelper.prototype.dataToLogicalX = function (x) {\n\t\treturn this._haveImage && this.imgWidth > 0 ? x / this.imgWidth : 0;\n\t};\n\n\t/**\n\t *\n\t *\n\t * @method OpenSeadragonImaging.ImagingHelper.prototype#dataToLogicalY\n\t *\n\t **/\n\t$.ImagingHelper.prototype.dataToLogicalY = function (y) {\n\t\treturn this._haveImage && this.imgHeight > 0 ? y / this.imgHeight : 0;\n\t};\n\n\t/**\n\t *\n\t *\n\t * @method OpenSeadragonImaging.ImagingHelper.prototype#physicalToDataX\n\t *\n\t **/\n\t$.ImagingHelper.prototype.physicalToDataX = function (x) {\n\t\tif (this._viewer.world.getItemCount() === 1) {\n\t\t\treturn this._haveImage && this.getViewerContainerSize().x > 0\n\t\t\t\t? (this._viewportOrigin.x +\n\t\t\t\t\t\t(x / this.getViewerContainerSize().x) *\n\t\t\t\t\t\t\tthis._viewportWidth) *\n\t\t\t\t\t\tthis.imgWidth\n\t\t\t\t: 0;\n\t\t} else {\n\t\t\tvar tiledImage = this._viewer.world.getItemAt(this._worldIndex);\n\t\t\tvar pt = tiledImage.viewerElementToImageCoordinates(\n\t\t\t\tnew OSD.Point(x, 0)\n\t\t\t); //viewportToImageCoordinates x,y,cur or point,cur\n\t\t\treturn pt.x;\n\t\t}\n\t};\n\n\t/**\n\t *\n\t *\n\t * @method OpenSeadragonImaging.ImagingHelper.prototype#physicalToDataY\n\t *\n\t **/\n\t$.ImagingHelper.prototype.physicalToDataY = function (y) {\n\t\tif (this._viewer.world.getItemCount() === 1) {\n\t\t\treturn this._haveImage && this.getViewerContainerSize().y > 0\n\t\t\t\t? (this._viewportOrigin.y +\n\t\t\t\t\t\t(y / this.getViewerContainerSize().y) *\n\t\t\t\t\t\t\tthis._viewportHeight) *\n\t\t\t\t\t\tthis.imgHeight\n\t\t\t\t: 0;\n\t\t} else {\n\t\t\tvar tiledImage = this._viewer.world.getItemAt(this._worldIndex);\n\t\t\tvar pt = tiledImage.viewerElementToImageCoordinates(\n\t\t\t\tnew OSD.Point(0, y)\n\t\t\t); //viewportToImageCoordinates x,y,cur or point,cur\n\t\t\treturn pt.y;\n\t\t}\n\t};\n\n\t/**\n\t *\n\t *\n\t * @method OpenSeadragonImaging.ImagingHelper.prototype#dataToPhysicalX\n\t *\n\t **/\n\t$.ImagingHelper.prototype.dataToPhysicalX = function (x) {\n\t\treturn this._haveImage && this.imgWidth > 0\n\t\t\t? ((x / this.imgWidth - this._viewportOrigin.x) /\n\t\t\t\t\tthis._viewportWidth) *\n\t\t\t\t\tthis.getViewerContainerSize().x\n\t\t\t: 0;\n\t};\n\n\t/**\n\t *\n\t *\n\t * @method OpenSeadragonImaging.ImagingHelper.prototype#dataToPhysicalY\n\t *\n\t **/\n\t$.ImagingHelper.prototype.dataToPhysicalY = function (y) {\n\t\treturn this._haveImage && this.imgHeight > 0\n\t\t\t? ((y / this.imgHeight - this._viewportOrigin.y) /\n\t\t\t\t\tthis._viewportHeight) *\n\t\t\t\t\tthis.getViewerContainerSize().y\n\t\t\t: 0;\n\t};\n\n\t/*\n\t * @private\n\t * @method OpenSeadragonImaging.ImagingHelper.prototype#onOpen\n\t *\n\t **/\n\t$.ImagingHelper.prototype.onOpen = function (/*event*/) {\n\t\t//OSD.console.log('!!! [onOpen]');\n\t\tvar tiledImage = this._viewer.world.getItemAt(this._worldIndex);\n\n\t\tthis._haveImage = true;\n\t\tthis.imgWidth = tiledImage.source.dimensions.x;\n\t\tthis.imgHeight = tiledImage.source.dimensions.y;\n\t\tthis.imgAspectRatio = this.imgWidth / this.imgHeight;\n\n\t\tthis._trackZoomPan();\n\t};\n\n\t/*\n\t * @private\n\t * @method OpenSeadragonImaging.ImagingHelper.prototype#onClose\n\t *\n\t **/\n\t$.ImagingHelper.prototype.onClose = function () {\n\t\t//OSD.console.log('!!! [onClose]');\n\t\tthis._haveImage = false;\n\t\tthis.imgWidth = 0.0;\n\t\tthis.imgHeight = 0.0;\n\t\tthis.imgAspectRatio = 0.0;\n\t};\n\n\t/*\n\t * @private\n\t * @method OpenSeadragonImaging.ImagingHelper.prototype#onAnimation\n\t *\n\t **/\n\t$.ImagingHelper.prototype.onAnimation = function () {\n\t\tthis._trackZoomPan();\n\t};\n\n\t/*\n\t * @private\n\t * @method OpenSeadragonImaging.ImagingHelper.prototype#onAnimationFinish\n\t *\n\t **/\n\t$.ImagingHelper.prototype.onAnimationFinish = function () {\n\t\tthis._trackZoomPan();\n\t};\n\n\t/*\n\t * @private\n\t * @method OpenSeadragonImaging.ImagingHelper.prototype#onResize\n\t *\n\t **/\n\t$.ImagingHelper.prototype.onResize = function () {\n\t\tif (this._viewer.autoResize) {\n\t\t\tthis._trackZoomPan();\n\t\t}\n\t};\n\n\t/*\n\t * @private\n\t * @method OpenSeadragonImaging.ImagingHelper.prototype#onFullPage\n\t *\n\t **/\n\t$.ImagingHelper.prototype.onFullPage = function () {\n\t\tthis._trackZoomPan();\n\t};\n\n\t/*\n\t * @private\n\t * @method OpenSeadragonImaging.ImagingHelper.prototype#onFullScreen\n\t *\n\t **/\n\t$.ImagingHelper.prototype.onFullScreen = function () {\n\t\tthis._trackZoomPan();\n\t};\n\n\t// /*\n\t//  * @private\n\t//  * @method OpenSeadragonImaging.ImagingHelper.prototype#onWorldAddItem\n\t//  *\n\t//  **/\n\t// $.ImagingHelper.prototype.onWorldAddItem = function (/*event*/) {\n\t// \t//OSD.console.log( '!!! onWorldAddItem', request.status, url );\n\t// \t//OSD.console.log('!!! [onWorldAddItem]');\n\t// \t// this._trackZoomPan();\n\t// };\n\n\t// /*\n\t//  * @private\n\t//  * @method OpenSeadragonImaging.ImagingHelper.prototype#onWorldRemoveItem\n\t//  *\n\t//  **/\n\t// $.ImagingHelper.prototype.onWorldRemoveItem = function (/*event*/) {\n\t// \t//OSD.console.log('!!! [onWorldRemoveItem]');\n\t// \t// this._trackZoomPan();\n\t// };\n\n\t// /*\n\t//  * @private\n\t//  * @method OpenSeadragonImaging.ImagingHelper.prototype#onWorldItemIndexChange\n\t//  *\n\t//  **/\n\t// $.ImagingHelper.prototype.onWorldItemIndexChange = function (/*event*/) {\n\t// \t//OSD.console.log('!!! [onWorldItemIndexChange]');\n\t// \t// this._trackZoomPan();\n\t// };\n\n\t// /*\n\t//  * @private\n\t//  * @method OpenSeadragonImaging.ImagingHelper.prototype#onWorldMetricsChange\n\t//  *\n\t//  **/\n\t// $.ImagingHelper.prototype.onWorldMetricsChange = function (/*event*/) {\n\t// \t//OSD.console.log('!!! [onWorldMetricsChange]');\n\t// \t// this._trackZoomPan();\n\t// };\n\n\treturn $.ImagingHelper;\n})(\n\tOpenSeadragon || window.OpenSeadragon,\n\t(window.OpenSeadragonImaging = window.OpenSeadragonImaging || {})\n);\n"]},"metadata":{},"sourceType":"script"}