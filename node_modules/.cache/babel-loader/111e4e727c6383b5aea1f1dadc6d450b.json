{"ast":null,"code":"import axios from 'axios';\nimport router from '@/router';\nimport _ from 'lodash';\nexport const getDifferentialDiagnos = ({\n  commit,\n  state\n}) => {\n  axios.get(`/api/diagnosis/dict`).then(resp => {\n    commit('DIFFERENTIAL_DIAGNOSIS', resp.data.dict);\n  });\n};\nexport const saveDifferentialDiagnos = ({\n  commit,\n  state\n}, label) => {\n  return axios.post(`/api/diagnosis/dict`, {\n    name: label\n  }).then(resp => {\n    let obj = {\n      code: resp.data.id,\n      label: label\n    };\n    commit('ADD_DIFFERENTIAL_DIAGNOSIS', obj);\n    return obj;\n  });\n};\nexport const saveDiagnosis = ({\n  commit,\n  state\n}, caseId) => {\n  return axios.post(`/api/diagnosis`, {\n    diagnosis: state.diagnosis,\n    case_id: caseId\n  });\n};\nexport const getDiagnosis = ({\n  commit,\n  state\n}, caseId) => {\n  axios.get(`/api/diagnosis?case_id=${caseId}`).then(resp => {\n    if (resp.data.diagnosis !== null) {\n      commit('DIAGNOSIS', resp.data.diagnosis);\n    } else {\n      commit('ADD_DIAGNOSIS', {});\n    }\n  });\n};\nexport const addDiagnosis = ({\n  commit,\n  state\n}) => {\n  commit('ADD_DIAGNOSIS', {});\n};\nexport const removeDiagnos = ({\n  commit,\n  state\n}, payload) => {\n  commit('REMOVE_DIAGNOSIS', payload);\n};\nexport const addDiagnosReasonPros = ({\n  commit,\n  state\n}, payload) => {\n  commit('ADD_DIAGNOSIS_REASON_PROS', payload);\n};\nexport const addDiagnosReasonCons = ({\n  commit,\n  state\n}, payload) => {\n  commit('ADD_DIAGNOSIS_REASON_CONS', payload);\n};\nexport const removeDiagnosReasonPros = ({\n  commit,\n  state\n}, payload) => {\n  commit('REMOVE_DIAGNOSIS_REASON_PROS', payload);\n};\nexport const removeDiagnosReasonCons = ({\n  commit,\n  state\n}, payload) => {\n  commit('REMOVE_DIAGNOSIS_REASON_CONS', payload);\n};\nexport const setDifferentialDiagnos = ({\n  commit,\n  state\n}, payload) => {\n  commit('SET_DIAGNOSIS_OPTION', payload);\n\n  if (!payload.item || !payload.item.code) {\n    return;\n  }\n\n  axios.get(`/api/diagnosis/prev?id=${payload.item.code}`).then(resp => {\n    if (!resp.data || !resp.data.prev_diagnosis || resp.data.prev_diagnosis.length == 0) {\n      return;\n    }\n\n    for (let d of resp.data.prev_diagnosis[0].diagnosis) {\n      if (d.differentialDiagnos.code !== payload.item.code) {\n        continue;\n      }\n\n      if (d.reasonPros.length > 0) {\n        commit('CLEAN_DIAGNOSIS_REASON_PROS', {\n          diagId: payload.diagId\n        });\n      }\n\n      for (let r of d.reasonPros) {\n        commit('ADD_DIAGNOSIS_REASON_PROS', {\n          text: r.text,\n          type: 0,\n          diagId: payload.diagId\n        });\n      }\n\n      if (d.reasonCons.length > 0) {\n        commit('CLEAN_DIAGNOSIS_REASON_CONS', {\n          diagId: payload.diagId\n        });\n      }\n\n      for (let r of d.reasonCons) {\n        commit('ADD_DIAGNOSIS_REASON_CONS', {\n          text: r.text,\n          type: 0,\n          diagId: payload.diagId\n        });\n      }\n    }\n  });\n};\nexport const changeDiagnosReasonTextPros = ({\n  commit,\n  state\n}, payload) => {\n  commit('SET_DIAGNOSIS_REASON_TEXT_PROS', payload);\n};\nexport const changeDiagnosReasonTypePros = ({\n  commit,\n  state\n}, payload) => {\n  commit('SET_DIAGNOSIS_REASON_TYPE_PROS', payload);\n};\nexport const changeDiagnosReasonTextCons = ({\n  commit,\n  state\n}, payload) => {\n  commit('SET_DIAGNOSIS_REASON_TEXT_CONS', payload);\n};\nexport const changeDiagnosReasonTypeCons = ({\n  commit,\n  state\n}, payload) => {\n  commit('SET_DIAGNOSIS_REASON_TYPE_CONS', payload);\n};\nexport const cleanDiagnosState = ({\n  commit,\n  state\n}) => {\n  commit('CLEAN_DIAGNOSIS_STATE');\n};\nexport const changeDiagnosAccessory = ({\n  commit,\n  state\n}, payload) => {\n  commit('SET_DIAGNOSIS_ACCESSORY', payload);\n};\nexport const focusReason = ({\n  commit,\n  state\n}, payload) => {\n  commit('FOCUS_DIAGNOSIS_REASON', payload);\n};\nexport const blurReason = ({\n  commit,\n  state\n}, payload) => {\n  commit('BLUR_DIAGNOSIS_REASON', payload);\n}; // WEBPACK FOOTER //\n// ./src/store/actions/diagnosis.js","map":{"version":3,"names":["axios","router","_","getDifferentialDiagnos","commit","state","get","then","resp","data","dict","saveDifferentialDiagnos","label","post","name","obj","code","id","saveDiagnosis","caseId","diagnosis","case_id","getDiagnosis","addDiagnosis","removeDiagnos","payload","addDiagnosReasonPros","addDiagnosReasonCons","removeDiagnosReasonPros","removeDiagnosReasonCons","setDifferentialDiagnos","item","prev_diagnosis","length","d","differentialDiagnos","reasonPros","diagId","r","text","type","reasonCons","changeDiagnosReasonTextPros","changeDiagnosReasonTypePros","changeDiagnosReasonTextCons","changeDiagnosReasonTypeCons","cleanDiagnosState","changeDiagnosAccessory","focusReason","blurReason"],"sources":["C:/Users/Danil/Desktop/122/src/store/action/diagnosis.js"],"sourcesContent":["import axios from 'axios'\r\nimport router from '@/router'\r\nimport _ from 'lodash'\r\n\r\nexport const getDifferentialDiagnos = ({ commit, state }) => {\r\n  axios.get(`/api/diagnosis/dict`).then((resp) => {\r\n    commit('DIFFERENTIAL_DIAGNOSIS', resp.data.dict)\r\n  })\r\n}\r\n\r\nexport const saveDifferentialDiagnos = ({ commit, state }, label) => {\r\n  return axios.post(`/api/diagnosis/dict`, {name: label}).then((resp) => {\r\n    let obj = {code: resp.data.id, label: label}\r\n    commit('ADD_DIFFERENTIAL_DIAGNOSIS', obj)\r\n\r\n    return obj\r\n  })\r\n}\r\n\r\nexport const saveDiagnosis = ({ commit, state }, caseId) => {\r\n  return axios.post(`/api/diagnosis`, {diagnosis: state.diagnosis, case_id: caseId})\r\n}\r\n\r\nexport const getDiagnosis = ({ commit, state }, caseId) => {\r\n  axios.get(`/api/diagnosis?case_id=${caseId}`).then((resp) => {\r\n    if (resp.data.diagnosis !== null) {\r\n      commit('DIAGNOSIS', resp.data.diagnosis)\r\n    } else {\r\n      commit('ADD_DIAGNOSIS', {})\r\n    }\r\n  })\r\n}\r\n\r\nexport const addDiagnosis = ({ commit, state }) => {\r\n  commit('ADD_DIAGNOSIS', {})\r\n}\r\nexport const removeDiagnos = ({ commit, state }, payload) => {\r\n  commit('REMOVE_DIAGNOSIS', payload)\r\n}\r\nexport const addDiagnosReasonPros = ({ commit, state }, payload) => {\r\n  commit('ADD_DIAGNOSIS_REASON_PROS', payload)\r\n}\r\nexport const addDiagnosReasonCons = ({ commit, state }, payload) => {\r\n  commit('ADD_DIAGNOSIS_REASON_CONS', payload)\r\n}\r\nexport const removeDiagnosReasonPros = ({ commit, state }, payload) => {\r\n  commit('REMOVE_DIAGNOSIS_REASON_PROS', payload)\r\n}\r\nexport const removeDiagnosReasonCons = ({ commit, state }, payload) => {\r\n  commit('REMOVE_DIAGNOSIS_REASON_CONS', payload)\r\n}\r\nexport const setDifferentialDiagnos = ({ commit, state }, payload) => {\r\n  commit('SET_DIAGNOSIS_OPTION', payload)\r\n\r\n  if (!payload.item || !payload.item.code) {\r\n    return\r\n  }\r\n\r\n  axios.get(`/api/diagnosis/prev?id=${payload.item.code}`).then((resp) => {\r\n    if (!resp.data ||\r\n      !resp.data.prev_diagnosis ||\r\n      resp.data.prev_diagnosis.length == 0) {\r\n      return\r\n    }\r\n\r\n    for (let d of resp.data.prev_diagnosis[0].diagnosis) {\r\n      if (d.differentialDiagnos.code !== payload.item.code) {\r\n        continue\r\n      }\r\n      if (d.reasonPros.length > 0) {\r\n        commit('CLEAN_DIAGNOSIS_REASON_PROS', {diagId: payload.diagId})\r\n      }\r\n      for (let r of d.reasonPros) {\r\n        commit('ADD_DIAGNOSIS_REASON_PROS', {\r\n          text: r.text,\r\n          type: 0,\r\n          diagId: payload.diagId\r\n        })\r\n      }\r\n      if (d.reasonCons.length > 0) {\r\n        commit('CLEAN_DIAGNOSIS_REASON_CONS', {diagId: payload.diagId})\r\n      }\r\n      for (let r of d.reasonCons) {\r\n        commit('ADD_DIAGNOSIS_REASON_CONS', {\r\n          text: r.text,\r\n          type: 0,\r\n          diagId: payload.diagId\r\n        })\r\n      }\r\n    }\r\n  })\r\n}\r\n\r\nexport const changeDiagnosReasonTextPros = ({ commit, state }, payload) => {\r\n  commit('SET_DIAGNOSIS_REASON_TEXT_PROS', payload)\r\n}\r\nexport const changeDiagnosReasonTypePros = ({ commit, state }, payload) => {\r\n  commit('SET_DIAGNOSIS_REASON_TYPE_PROS', payload)\r\n}\r\n\r\nexport const changeDiagnosReasonTextCons = ({ commit, state }, payload) => {\r\n  commit('SET_DIAGNOSIS_REASON_TEXT_CONS', payload)\r\n}\r\nexport const changeDiagnosReasonTypeCons = ({ commit, state }, payload) => {\r\n  commit('SET_DIAGNOSIS_REASON_TYPE_CONS', payload)\r\n}\r\n\r\nexport const cleanDiagnosState = ({ commit, state }) => {\r\n  commit('CLEAN_DIAGNOSIS_STATE')\r\n}\r\n\r\nexport const changeDiagnosAccessory = ({ commit, state }, payload) => {\r\n  commit('SET_DIAGNOSIS_ACCESSORY', payload)\r\n}\r\n\r\nexport const focusReason = ({ commit, state }, payload) => {\r\n  commit('FOCUS_DIAGNOSIS_REASON', payload)\r\n}\r\n\r\nexport const blurReason = ({ commit, state }, payload) => {\r\n  commit('BLUR_DIAGNOSIS_REASON', payload)\r\n}\r\n\r\n\r\n\r\n// WEBPACK FOOTER //\r\n// ./src/store/actions/diagnosis.js"],"mappings":"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"},"metadata":{},"sourceType":"module"}