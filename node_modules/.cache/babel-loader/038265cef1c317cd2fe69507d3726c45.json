{"ast":null,"code":"import api from '../../api';\nimport _ from 'lodash';\nimport { CLINICIAN_VIEW_CHANGE_FULLTEXT_SEARCH_FILTER, CLINICIAN_VIEW_CHANGE_CASES_SCOPE_FILTER, CLINICIAN_VIEW_RESET_PAGE, CLINICIAN_VIEW_CASES_RECEIVE, CLINICIAN_VIEW_CHANGE_CASES_LOADER, CLINICIAN_VIEW_CHANGE_PAGE } from '../mutations/available';\nexport const clinicianViewChangeFulltextSearchFilter = ({\n  commit,\n  dispatch\n}, value) => {\n  commit(CLINICIAN_VIEW_CHANGE_FULLTEXT_SEARCH_FILTER, value);\n  dispatch('clinicianViewResetPage');\n  dispatch('clinicianViewLoadCases');\n};\nexport const clinicianViewChangeCasesScopeFilter = ({\n  commit,\n  dispatch\n}, value) => {\n  commit(CLINICIAN_VIEW_CHANGE_CASES_SCOPE_FILTER, value);\n  dispatch('clinicianViewResetPage');\n  dispatch('clinicianViewLoadCases');\n};\nexport const clinicianViewLoadCases = _.debounce(async ({\n  commit,\n  state,\n  dispatch\n}) => {\n  const {\n    page,\n    rowsPerPage\n  } = state.clinicianView.pagination;\n  commit(CLINICIAN_VIEW_CHANGE_CASES_LOADER, true);\n\n  try {\n    let result = await api.getCliniciansCases((page - 1) * rowsPerPage, rowsPerPage, state.clinicianView.filters);\n    commit(CLINICIAN_VIEW_CASES_RECEIVE, {\n      cases: result.cases,\n      casesCount: result.count\n    });\n  } catch (e) {\n    dispatch('sendGenericErrorNotification', {\n      messageLocalizationKey: 'notifications.clinicianView.actionError'\n    });\n  }\n\n  commit(CLINICIAN_VIEW_CHANGE_CASES_LOADER, false);\n}, 500);\nexport const clinicianViewChangePage = async ({\n  commit,\n  dispatch\n}, page) => {\n  commit(CLINICIAN_VIEW_CHANGE_PAGE, page);\n  dispatch('clinicianViewLoadCases');\n};\nexport const clinicianViewResetPage = async ({\n  commit\n}) => {\n  commit(CLINICIAN_VIEW_RESET_PAGE);\n}; // WEBPACK FOOTER //\n// ./src/store/actions/clinician-view.js","map":{"version":3,"names":["api","_","CLINICIAN_VIEW_CHANGE_FULLTEXT_SEARCH_FILTER","CLINICIAN_VIEW_CHANGE_CASES_SCOPE_FILTER","CLINICIAN_VIEW_RESET_PAGE","CLINICIAN_VIEW_CASES_RECEIVE","CLINICIAN_VIEW_CHANGE_CASES_LOADER","CLINICIAN_VIEW_CHANGE_PAGE","clinicianViewChangeFulltextSearchFilter","commit","dispatch","value","clinicianViewChangeCasesScopeFilter","clinicianViewLoadCases","debounce","state","page","rowsPerPage","clinicianView","pagination","result","getCliniciansCases","filters","cases","casesCount","count","e","messageLocalizationKey","clinicianViewChangePage","clinicianViewResetPage"],"sources":["C:/Users/Danil/Desktop/project1/src/store/action/clinician-view.js"],"sourcesContent":["import api from '../../api'\r\n\r\nimport _ from 'lodash'\r\nimport {\r\n  CLINICIAN_VIEW_CHANGE_FULLTEXT_SEARCH_FILTER,\r\n  CLINICIAN_VIEW_CHANGE_CASES_SCOPE_FILTER,\r\n  CLINICIAN_VIEW_RESET_PAGE,\r\n  CLINICIAN_VIEW_CASES_RECEIVE,\r\n  CLINICIAN_VIEW_CHANGE_CASES_LOADER,\r\n  CLINICIAN_VIEW_CHANGE_PAGE\r\n} from '../mutations/available'\r\n\r\nexport const clinicianViewChangeFulltextSearchFilter = ({commit, dispatch}, value) => {\r\n  commit(CLINICIAN_VIEW_CHANGE_FULLTEXT_SEARCH_FILTER, value)\r\n  dispatch('clinicianViewResetPage')\r\n  dispatch('clinicianViewLoadCases')\r\n}\r\n\r\nexport const clinicianViewChangeCasesScopeFilter = ({commit, dispatch}, value) => {\r\n  commit(CLINICIAN_VIEW_CHANGE_CASES_SCOPE_FILTER, value)\r\n  dispatch('clinicianViewResetPage')\r\n  dispatch('clinicianViewLoadCases')\r\n}\r\n\r\nexport const clinicianViewLoadCases = _.debounce(async ({commit, state, dispatch}) => {\r\n  const {page, rowsPerPage} = state.clinicianView.pagination\r\n  commit(CLINICIAN_VIEW_CHANGE_CASES_LOADER, true)\r\n\r\n  try {\r\n    let result = await api.getCliniciansCases((page - 1) * rowsPerPage, rowsPerPage, state.clinicianView.filters)\r\n    commit(CLINICIAN_VIEW_CASES_RECEIVE, {\r\n      cases: result.cases,\r\n      casesCount: result.count\r\n    })\r\n  } catch (e) {\r\n    dispatch('sendGenericErrorNotification', {\r\n      messageLocalizationKey: 'notifications.clinicianView.actionError'\r\n    })\r\n  }\r\n  commit(CLINICIAN_VIEW_CHANGE_CASES_LOADER, false)\r\n}, 500)\r\n\r\nexport const clinicianViewChangePage = async ({commit, dispatch}, page) => {\r\n  commit(CLINICIAN_VIEW_CHANGE_PAGE, page)\r\n  dispatch('clinicianViewLoadCases')\r\n}\r\n\r\nexport const clinicianViewResetPage = async ({commit}) => {\r\n  commit(CLINICIAN_VIEW_RESET_PAGE)\r\n}\r\n\r\n\r\n\r\n// WEBPACK FOOTER //\r\n// ./src/store/actions/clinician-view.js"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,WAAhB;AAEA,OAAOC,CAAP,MAAc,QAAd;AACA,SACEC,4CADF,EAEEC,wCAFF,EAGEC,yBAHF,EAIEC,4BAJF,EAKEC,kCALF,EAMEC,0BANF,QAOO,wBAPP;AASA,OAAO,MAAMC,uCAAuC,GAAG,CAAC;EAACC,MAAD;EAASC;AAAT,CAAD,EAAqBC,KAArB,KAA+B;EACpFF,MAAM,CAACP,4CAAD,EAA+CS,KAA/C,CAAN;EACAD,QAAQ,CAAC,wBAAD,CAAR;EACAA,QAAQ,CAAC,wBAAD,CAAR;AACD,CAJM;AAMP,OAAO,MAAME,mCAAmC,GAAG,CAAC;EAACH,MAAD;EAASC;AAAT,CAAD,EAAqBC,KAArB,KAA+B;EAChFF,MAAM,CAACN,wCAAD,EAA2CQ,KAA3C,CAAN;EACAD,QAAQ,CAAC,wBAAD,CAAR;EACAA,QAAQ,CAAC,wBAAD,CAAR;AACD,CAJM;AAMP,OAAO,MAAMG,sBAAsB,GAAGZ,CAAC,CAACa,QAAF,CAAW,OAAO;EAACL,MAAD;EAASM,KAAT;EAAgBL;AAAhB,CAAP,KAAqC;EACpF,MAAM;IAACM,IAAD;IAAOC;EAAP,IAAsBF,KAAK,CAACG,aAAN,CAAoBC,UAAhD;EACAV,MAAM,CAACH,kCAAD,EAAqC,IAArC,CAAN;;EAEA,IAAI;IACF,IAAIc,MAAM,GAAG,MAAMpB,GAAG,CAACqB,kBAAJ,CAAuB,CAACL,IAAI,GAAG,CAAR,IAAaC,WAApC,EAAiDA,WAAjD,EAA8DF,KAAK,CAACG,aAAN,CAAoBI,OAAlF,CAAnB;IACAb,MAAM,CAACJ,4BAAD,EAA+B;MACnCkB,KAAK,EAAEH,MAAM,CAACG,KADqB;MAEnCC,UAAU,EAAEJ,MAAM,CAACK;IAFgB,CAA/B,CAAN;EAID,CAND,CAME,OAAOC,CAAP,EAAU;IACVhB,QAAQ,CAAC,8BAAD,EAAiC;MACvCiB,sBAAsB,EAAE;IADe,CAAjC,CAAR;EAGD;;EACDlB,MAAM,CAACH,kCAAD,EAAqC,KAArC,CAAN;AACD,CAhBqC,EAgBnC,GAhBmC,CAA/B;AAkBP,OAAO,MAAMsB,uBAAuB,GAAG,OAAO;EAACnB,MAAD;EAASC;AAAT,CAAP,EAA2BM,IAA3B,KAAoC;EACzEP,MAAM,CAACF,0BAAD,EAA6BS,IAA7B,CAAN;EACAN,QAAQ,CAAC,wBAAD,CAAR;AACD,CAHM;AAKP,OAAO,MAAMmB,sBAAsB,GAAG,OAAO;EAACpB;AAAD,CAAP,KAAoB;EACxDA,MAAM,CAACL,yBAAD,CAAN;AACD,CAFM,C,CAMP;AACA"},"metadata":{},"sourceType":"module"}