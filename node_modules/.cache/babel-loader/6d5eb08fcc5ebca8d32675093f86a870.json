{"ast":null,"code":"/* eslint-disable */\n// OpenSeadragon SVG Overlay plugin 0.0.4\n(function () {\n  if (!window.OpenSeadragon) {\n    console.error('[openseadragon-svg-overlay] requires OpenSeadragon');\n    return;\n  }\n\n  var svgNS = 'http://www.w3.org/2000/svg'; // ----------\n\n  OpenSeadragon.Viewer.prototype.svgOverlay = function () {\n    if (this._svgOverlayInfo) {\n      return this._svgOverlayInfo;\n    }\n\n    this._svgOverlayInfo = new Overlay(this);\n    return this._svgOverlayInfo;\n  }; // ----------\n\n\n  var Overlay = function (viewer) {\n    var self = this;\n    this._viewer = viewer;\n    this._containerWidth = 0;\n    this._containerHeight = 0;\n    this._svg = document.createElementNS(svgNS, 'svg');\n    this._svg.style.position = 'absolute';\n    this._svg.style.left = 0;\n    this._svg.style.top = 0;\n    this._svg.style.width = '100%';\n    this._svg.style.height = '100%';\n\n    this._viewer.canvas.appendChild(this._svg);\n\n    this._node = document.createElementNS(svgNS, 'g');\n\n    this._svg.appendChild(this._node);\n\n    this._viewer.addHandler('animation', function () {\n      self.resize();\n    });\n\n    this._viewer.addHandler('open', function () {\n      self.resize();\n    });\n\n    this._viewer.addHandler('rotate', function (evt) {\n      self.resize();\n    });\n\n    this.resize();\n  }; // ----------\n\n\n  Overlay.prototype = {\n    // ----------\n    node: function () {\n      return this._node;\n    },\n    // ----------\n    resize: function () {\n      if (this._containerWidth !== this._viewer.container.clientWidth) {\n        this._containerWidth = this._viewer.container.clientWidth;\n\n        this._svg.setAttribute('width', this._containerWidth);\n      }\n\n      if (this._containerHeight !== this._viewer.container.clientHeight) {\n        this._containerHeight = this._viewer.container.clientHeight;\n\n        this._svg.setAttribute('height', this._containerHeight);\n      }\n\n      var p = this._viewer.viewport.pixelFromPoint(new OpenSeadragon.Point(0, 0), true);\n\n      var zoom = this._viewer.viewport.getZoom(true);\n\n      var rotation = this._viewer.viewport.getRotation(); // TODO: Expose an accessor for _containerInnerSize in the OSD API so we don't have to use the private variable.\n\n\n      var scale = this._viewer.viewport._containerInnerSize.x * zoom;\n\n      this._node.setAttribute('transform', 'translate(' + p.x + ',' + p.y + ') scale(' + scale + ') rotate(' + rotation + ')');\n    },\n    // ----------\n    onClick: function (node, handler) {\n      // TODO: Fast click for mobile browsers\n      new OpenSeadragon.MouseTracker({\n        element: node,\n        clickHandler: handler\n      }).setTracking(true);\n    }\n  };\n})(); // WEBPACK FOOTER //\n// ./src/libs/openseadragon-svg-overlay.js","map":{"version":3,"names":["window","OpenSeadragon","console","error","svgNS","Viewer","prototype","svgOverlay","_svgOverlayInfo","Overlay","viewer","self","_viewer","_containerWidth","_containerHeight","_svg","document","createElementNS","style","position","left","top","width","height","canvas","appendChild","_node","addHandler","resize","evt","node","container","clientWidth","setAttribute","clientHeight","p","viewport","pixelFromPoint","Point","zoom","getZoom","rotation","getRotation","scale","_containerInnerSize","x","y","onClick","handler","MouseTracker","element","clickHandler","setTracking"],"sources":["C:/Users/Danil/Desktop/project1/src/libs/openseadragon-svg-overlay.js"],"sourcesContent":["/* eslint-disable */\r\n// OpenSeadragon SVG Overlay plugin 0.0.4\r\n\r\n(function() {\r\n\r\n    if (!window.OpenSeadragon) {\r\n        console.error('[openseadragon-svg-overlay] requires OpenSeadragon');\r\n        return;\r\n    }\r\n\r\n    var svgNS = 'http://www.w3.org/2000/svg';\r\n\r\n    // ----------\r\n    OpenSeadragon.Viewer.prototype.svgOverlay = function() {\r\n        if (this._svgOverlayInfo) {\r\n            return this._svgOverlayInfo;\r\n        }\r\n\r\n        this._svgOverlayInfo = new Overlay(this);\r\n        return this._svgOverlayInfo;\r\n    };\r\n\r\n    // ----------\r\n    var Overlay = function(viewer) {\r\n        var self = this;\r\n\r\n        this._viewer = viewer;\r\n        this._containerWidth = 0;\r\n        this._containerHeight = 0;\r\n\r\n        this._svg = document.createElementNS(svgNS, 'svg');\r\n        this._svg.style.position = 'absolute';\r\n        this._svg.style.left = 0;\r\n        this._svg.style.top = 0;\r\n        this._svg.style.width = '100%';\r\n        this._svg.style.height = '100%';\r\n        this._viewer.canvas.appendChild(this._svg);\r\n\r\n        this._node = document.createElementNS(svgNS, 'g');\r\n        this._svg.appendChild(this._node);\r\n\r\n        this._viewer.addHandler('animation', function() {\r\n            self.resize();\r\n        });\r\n\r\n        this._viewer.addHandler('open', function() {\r\n            self.resize();\r\n        });\r\n\r\n        this._viewer.addHandler('rotate', function(evt) {\r\n            self.resize();\r\n        });\r\n\r\n        this.resize();\r\n    };\r\n\r\n    // ----------\r\n    Overlay.prototype = {\r\n        // ----------\r\n        node: function() {\r\n            return this._node;\r\n        },\r\n\r\n        // ----------\r\n        resize: function() {\r\n            if (this._containerWidth !== this._viewer.container.clientWidth) {\r\n                this._containerWidth = this._viewer.container.clientWidth;\r\n                this._svg.setAttribute('width', this._containerWidth);\r\n            }\r\n\r\n            if (this._containerHeight !== this._viewer.container.clientHeight) {\r\n                this._containerHeight = this._viewer.container.clientHeight;\r\n                this._svg.setAttribute('height', this._containerHeight);\r\n            }\r\n\r\n            var p = this._viewer.viewport.pixelFromPoint(new OpenSeadragon.Point(0, 0), true);\r\n            var zoom = this._viewer.viewport.getZoom(true);\r\n            var rotation = this._viewer.viewport.getRotation();\r\n            // TODO: Expose an accessor for _containerInnerSize in the OSD API so we don't have to use the private variable.\r\n            var scale = this._viewer.viewport._containerInnerSize.x * zoom;\r\n            this._node.setAttribute('transform',\r\n                'translate(' + p.x + ',' + p.y + ') scale(' + scale + ') rotate(' + rotation + ')');\r\n        },\r\n\r\n        // ----------\r\n        onClick: function(node, handler) {\r\n            // TODO: Fast click for mobile browsers\r\n\r\n            new OpenSeadragon.MouseTracker({\r\n                element: node,\r\n                clickHandler: handler\r\n            }).setTracking(true);\r\n        }\r\n    };\r\n\r\n})();\r\n\r\n\r\n// WEBPACK FOOTER //\r\n// ./src/libs/openseadragon-svg-overlay.js"],"mappings":"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"},"metadata":{},"sourceType":"script"}